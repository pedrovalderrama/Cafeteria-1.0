<div class="container">
   <div class="row" style="margin-top:60px;">
      <div class="col-md-4">
         <div class="statCart Statcolor01">
   			<i class="fa fa-users" aria-hidden="true"></i>
   			<h1></h1><br>
   			<span></span>
		    </div>
      </div>
      <div class="col-md-4">
         <div class="statCart Statcolor02">
   			<i class="fa fa-archive" aria-hidden="true"></i>
   			<h1></h1><br>
   			<span>)</span>
		    </div>
      </div>
      <div class="col-md-4">
         <div class="statCart Statcolor03">
   			<i class="fa fa-money" aria-hidden="true"></i>
   			<h2 style="display: inline"></h2><br>
   			<span></span>
		    </div>
      </div>
   </div>
   <div class="row" style="margin-top:50px;">
      <div class="col-md-8">
         <!-- chart container  -->
         <div class="statCart">
            <h3></h3>
            <div style="width:100%">
               <canvas id="canvas" height="330" width="750"></canvas>
            </div>
         </div>
      </div>
      <div class="col-md-4">
         <!-- pie container  -->
         <div class="statCart">
            <h3></h3>
            <div id="canvas-holder">
               
            </div>
         </div>
      </div>
   </div>
   <div class="row rangeStat" style="margin-top:50px;">
      <h3 class="col-sm-12"></h3>
      <div class="col-md-5">
         <div class="form-group">
             <label for="customerSelect"></label>
               <select class="js-select-options form-control" id="customerSelect">
                  <option value="0"></option>
                 
                    <option value="</option>
                 
               </select>
         </div>
      </div>
      <div class="col-md-5">
            <div class="form-group">
                <label></label>
            <div class="input-group margin-bottom-sm">
               <span class="input-group-addon RangePicker"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i></span>
               <input class="form-control" id="CustomerRange" type="text" name="daterange" />
            </div>
         </div>
      </div>
      <div class="col-md-2">
         <button class="cancelBtn btn btn-picker" type="button" onclick="getCustomerReport()"></button>
      </div>
   </div>

   <div class="row rangeStat" style="margin-top:50px;">
      <h3 class="col-sm-12"></h3>
      <div class="col-md-5">
         <div class="form-group">
             <label for="customerSelect"></label>
               <select class="js-select-options form-control" id="productSelect">
                  
                    <option value="</option>
                 
               </select>
         </div>
      </div>
      <div class="col-md-5">
            <div class="form-group">
                <label></label>
            <div class="input-group margin-bottom-sm">
               <span class="input-group-addon RangePicker"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i></span>
               <input class="form-control" id="ProductRange" type="text" name="daterangeP" />
            </div>
         </div>
      </div>
      <div class="col-md-2">
         <button class="cancelBtn btn btn-picker" type="button" onclick="getProductReport()"></button>
      </div>
   </div>
   <div class="row rangeStat" style="margin-top:50px;">
      <h3 class="col-sm-12"></h3>
      <div class="col-md-5">
         <div class="form-group">
             <label for="customerSelect"></label>
               <select class="js-select-options form-control" id="StoresSelect">
                  
                    <option value="</option>
                 
               </select>
         </div>
      </div>
      <div class="col-md-5">
            <div class="form-group">
                <label></label>
            <div class="input-group margin-bottom-sm">
               <span class="input-group-addon RangePicker"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i></span>
               <input class="form-control" id="RegisterRange" type="text" name="daterangeR" />
            </div>
         </div>
      </div>
      <div class="col-md-2">
         <button class="cancelBtn btn btn-picker" type="button" onclick="getRegisterReport()"></button>
      </div>
   </div>
   <!-- ********************************************* warehouses report ***************************************************** -->
   <div class="row rangeStat" style="margin-top:50px;">
      <h3 class="col-sm-12">Stock stats</h3>
      <div class="col-md-5">
         <div class="form-group">
             <label for="customerSelect"></label>
               <select class="js-select-options form-control" id="StockSelect">
                  
                    <option value="S</option>
                 
                 
                   <option value="W</option>
                
               </select>
         </div>
      </div>
      <div class="col-md-5">
            <div class="form-group">
                <label></label>
            <div class="input-group margin-bottom-sm">
               <span class="input-group-addon RangePicker"><i class="fa fa-calendar fa-fw" aria-hidden="true"></i></span>
               <input class="form-control" id="" type="text" name="" disabled />
            </div>
         </div>
      </div>
      <div class="col-md-2">
         <button class="cancelBtn btn btn-picker" type="button" onclick="getStockReport()"></button>
      </div>
   </div>
   <!-- ************************************************************************************************** -->

   <div class="row rangeStat" style="margin-top:50px; margin-bottom:70px;">
      <div class="col-md-12">
         <div class="statCart">
            <h1 class="statYear"></h1>
            <button class="btn btn-Year" type="button" onclick="getyearstats('next')"><</button>
            <button class="btn btn-Year" type="button" onclick="getyearstats('prev')">></button>
            <div class="float-right" style="margin-top: 50px;">
               <span class="revenuespan" style="font-size:11px;"></span>
               <span class="expencespan" style="font-size:11px;"></span>
            </div>
            <div id="statyears">
               <table class="StatTable">
                  <tr>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                  </tr>
                  <tr>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                  </tr>
                  <tr>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                     <td><span class="revenuespan" data-toggle="tooltip" data-placement="top"  data-html="true" title="<h5></td>
                  </tr>
               </table>
            </div>
         </div>
      </div>
   </div>
</div>


	<script>
   /******* Range date picker *******/
   $(function() {
      $('input[name="daterange"]').daterangepicker();
      $('input[name="daterangeP"]').daterangepicker();
      $('input[name="daterangeR"]').daterangepicker();
      var d = new Date().getFullYear();
      $('#ProductRange').val('01/01/'+d+' - 12/31/'+d);
      $('#CustomerRange').val('01/01/'+d+' - 12/31/'+d);
      $('#RegisterRange').val('01/01/'+d+' - 12/31/'+d);

   });
   /************************ Chart Data *************************/
		var randomScalingFactor = function(){ return Math.round(Math.random()*100)};
		var lineChartData = {
			labels : [""],
			datasets : [
            {
               label: "",
               backgroundColor: "rgba(255,99,132,0.2)",
               borderColor: "rgba(255,99,132,1)",
               pointBackgroundColor: "rgba(255,99,132,1)",
               pointBorderColor: "#fff",
               pointHoverBackgroundColor: "#fff",
               pointHoverBorderColor: "rgba(255,99,132,1)",
               data: []
            },
				{
					label: "",
					backgroundColor : "#34495e",
					borderColor : "#2c3e50",
					pointBackgroundColor : "#34495e",
					pointBorderColor : "#fff",
					pointHoverBackgroundColor : "#fff",
					pointHoverBorderColor : "#2c3e50",
					data : []
				}
			]
		}
	window.onload = function(){

      // Chart.defaults.global.gridLines.display = false;

		var ctx = document.getElementById("canvas").getContext("2d");
		window.myLine = new Chart(ctx, {
    type: 'line',
    data: lineChartData,
    options: {
         scales : {
           xAxes : [ {
                   gridLines : {
                      display : false
                   }
              } ],
           yAxes : [ {
                   gridLines : {
                      display : false
                   }
              } ]
          },
         scaleFontSize: 9,
         tooltipFillColor: "rgba(0, 0, 0, 0.71)",
         tooltipFontSize: 10,
			responsive: true
		}});

      /********************* pie **********************/
      


      var pieData =  {
          labels: [
            "",
            "",
            "",
            "",
            ""
          ],
          datasets: [
           {
               data: [],
               backgroundColor: [
                   "#34495E",
                   "#7f8c8d",
                   "#ECF0F1",
                   "#3498DB",
                   "#1ABC9C"
               ],
               hoverBackgroundColor: [
                   "#3e5367",
                   "#95a5a6",
                   "#f5fbfc",
                   "#459eda",
                   "#2dc6a8"
               ]
            }
         ]
      };

      Chart.defaults.global.legend.display = false;

      var ctx2 = document.getElementById("chart-area2").getContext("2d");
      window.myPie = new Chart(ctx2,{
             type: 'pie',
             data: pieData});
      
	}


   /********************************** Get repports functions ************************************/

   function getCustomerReport()
   {
      var client_id = $('#customerSelect').find('option:selected').val();
      var Range = $('#CustomerRange').val();
      var start = Range.slice(6,10)+'-'+Range.slice(0,2)+'-'+Range.slice(3,5);
      var end = Range.slice(19,23)+'-'+Range.slice(13,15)+'-'+Range.slice(16,18);
           // ajax delete data to database
           $.ajax({
               url : "/",
               type: "POST",
               data: {client_id: client_id, start: start, end: end},
               success: function(data)
               {
                  $('#statsSection').html(data);
                  $('#stats').modal('show');
                  var table = $('#Table').DataTable( {
                      dom: 'T<"clear">lfrtip',
                      tableTools: {
                          'bProcessing'    : true
                       }
                    });
               },
               error: function (jqXHR, textStatus, errorThrown)
               {
                  alert("error");
               }
           });

   }

   function getProductReport()
   {
      var product_id = $('#productSelect').find('option:selected').val();
      var Range = $('#ProductRange').val();
      var start = Range.slice(6,10)+'-'+Range.slice(0,2)+'-'+Range.slice(3,5);
      var end = Range.slice(19,23)+'-'+Range.slice(13,15)+'-'+Range.slice(16,18);
           // ajax set data to database
        $.ajax({
            url : "/",
            type: "POST",
            data: {product_id: product_id, start: start, end: end},
            success: function(data)
            {
               $('#statsSection').html(data);
               $('#stats').modal('show');
               var table = $('#Table').DataTable( {
                   dom: 'T<"clear">lfrtip',
                   tableTools: {
                       'bProcessing'    : true
                    }
                 });
            },
            error: function (jqXHR, textStatus, errorThrown)
            {
               alert("error");
            }
       });
   }

   function getRegisterReport()
   {
      var store_id = $('#StoresSelect').find('option:selected').val();
      var Range = $('#RegisterRange').val();
      var start = Range.slice(6,10)+'-'+Range.slice(0,2)+'-'+Range.slice(3,5);
      var end = Range.slice(19,23)+'-'+Range.slice(13,15)+'-'+Range.slice(16,18);
           // ajax set data to database
        $.ajax({
            url : "/",
            type: "POST",
            data: {store_id: store_id, start: start, end: end},
            success: function(data)
            {
               $('#statsSection').html(data);
               $('#stats').modal('show');
               var table = $('#Table').DataTable( {
                   dom: 'T<"clear">lfrtip',
                   tableTools: {
                       'bProcessing'    : true
                    }
                 });
            },
            error: function (jqXHR, textStatus, errorThrown)
            {
               alert("error");
            }
       });
   }

   function getStockReport()
   {
      var stock_id = $('#StockSelect').find('option:selected').val();
           // ajax set data to database
        $.ajax({
            url : "/",
            type: "POST",
            data: {stock_id: stock_id},
            success: function(data)
            {
               $('#statsSection').html(data);
               $('#stats').modal('show');
               var table = $('#Table').DataTable( {
                   dom: 'T<"clear">lfrtip',
                   tableTools: {
                       'bProcessing'    : true
                    }
                 });
            },
            error: function (jqXHR, textStatus, errorThrown)
            {
               alert("error");
            }
       });
   }

   function getyearstats(direction) {
      var currentyear = parseInt($('.statYear').text());
      var year = direction === 'next' ? currentyear-1 : currentyear+1;

        $.ajax({
            url : "/"+year,
            type: "POST",
            success: function(data)
            {
               $('#statyears').html(data);
               $('.statYear').text(year);
               $('[data-toggle="tooltip"]').tooltip();
            },
            error: function (jqXHR, textStatus, errorThrown)
            {
               alert("error");
            }
      });
   }

   function RegisterDetails(id) {
      $.ajax({
         url : "/"+id,
         type: "POST",
         success: function(data)
         {
            $('#RegisterDetails').html(data);
            $('#stats').modal('hide');
            $('#RegisterDetail').modal('show');
         },
         error: function (jqXHR, textStatus, errorThrown)
         {
             alert("error");
         }
      });
   }

   function CloseRegisterDetails(){
      $('#RegisterDetail').modal('hide');
      $('#stats').modal('show');
   }

   function delete_register(id){
      swal({   title: '',
      text: '',
      type: "warning",
      showCancelButton: true,
      confirmButtonColor: "#DD6B55",
      confirmButtonText: '',
      closeOnConfirm: false },
      function(){
         $.ajax({
             url : "/"+id,
             type: "POST",
             error: function (jqXHR, textStatus, errorThrown)
             {
                alert("error");
             }
        });
      $('#stats').modal('hide');
      swal('', "success"); });
   }


	</script>

   <!-- Modal stats -->
   <div class="modal fade" id="stats" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document" id="statsModal">
       <div class="modal-content">
         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
           <h4 class="modal-title" id="stats"></h4>
         </div>
         <div class="modal-body" id="modal-body">
            <div id="statsSection">
               <!-- stats goes here -->
            </div>
         </div>
         <div class="modal-footer">
           <button type="button" class="btn btn-default hiddenpr" data-dismiss="modal"></button>
         </div>
       </div>
    </div>
   </div>
   <!-- /.Modal -->

   <!-- Modal register -->
   <div class="modal fade" id="RegisterDetail" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
       <div class="modal-content">
         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
           <h4 class="modal-title" id="myModalLabel"></h4>
         </div>
         <div class="modal-body">
            <div id="RegisterDetails">
               <!-- close register detail goes here -->
            </div>
         </div>
         <div class="modal-footer">
           <a href="javascript:void(0)" onclick="CloseRegisterDetails()" class="btn btn-orange col-md-12 flat-box-btn"></a>
         </div>
       </div>
    </div>
   </div>
   <!-- /.Modal -->
